# Телеграм бот для сбора еженедельных отчетов

Бот для автоматического сбора еженедельных отчетов от учеников с системой кураторов, используя aiogram и SQLite.

## Установка

1. Установите зависимости:
```bash
pip install -r requirements.txt
```

2. Создайте файл `.env` и добавьте токен бота:
```
BOT_TOKEN=your_bot_token_here
```

3. Запустите бота:
```bash
python bot.py
```

## Функциональность

### Для учеников:
- Автоматическая регистрация при команде `/start`
- Структурированная форма отчета (3 вопроса)
- Еженедельные напоминания
- Уведомления о просмотре отчетов куратором

### Для кураторов:
- Режим куратора через `/curator`
- Добавление учеников по ID
- Просмотр непрочитанных отчетов
- Отметка отчетов как прочитанных

## Команды бота

### Ученики:
- `/start` - регистрация в системе
- `/report` - отправить отчет (структурированная форма)
- `/my_reports` - посмотреть свои отчеты
- `/help` - помощь

### Кураторы:
- `/curator` - активация режима куратора
- `/add_student` - добавить ученика по ID
- `/my_students` - список учеников
- `/reports` - непрочитанные отчеты

## Структура проекта

```
supervisor/
├── bot.py                    # Основной файл бота
├── database.py               # Работа с базой данных
├── config.py                 # Конфигурация
├── states.py                 # Состояния FSM
├── notifications.py          # Система уведомлений
├── scheduler.py              # Планировщик напоминаний
├── handlers/                 # Обработчики команд
│   ├── student_handlers.py  # Команды для учеников
│   └── curator_handlers.py  # Команды для кураторов
└── requirements.txt          # Зависимости
```

## Структура базы данных

- `users` - пользователи (ученики и кураторы)
- `reports` - отчеты с полями: этап, планы, проблемы
- `curator_student_relations` - связи куратор-ученик

## Особенности

- Модульная архитектура с разделением ответственности
- Система уведомлений между кураторами и учениками
- Структурированные отчеты по единой форме
- Автоматические еженедельные напоминания
- Валидация данных и обработка ошибок
